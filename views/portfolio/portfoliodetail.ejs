<!DOCTYPE html>
<html lang="en">
  <head>
    <%- include('../layouts/head') %>
  </head>

  <body class="hold-transition light-skin sidebar-mini theme-primary fixed">
    <div class="wrapper">
      <!-- <div id="loader"></div> -->

      <header class="main-header">
        <!-- header-->
        <%- include('../layouts/header') %>
      </header>

      <aside class="main-sidebar">
        <!-- sidebar-->
        <%- include('../layouts/aside') %>
      </aside>

      <!-- Content Wrapper. Contains page content -->
      <div class="content-wrapper">
        <div class="container-full">
          <section class="content">
            <div class="col-9 col-xl-9">
              <div class="card">
                <div class="card-header">
                  <h1 class="card-title"><%=title%></h1>
                </div>
                <div class="card-body">
                  <!-- portfolioview.ejs -->

                  <section class="content">
                    <div>
                      <h4>Title:</h4>
                      <p><%= portfolio.title %></p>
                    </div>

                    <div>
                      <h4>Description:</h4>
                      <p><%= portfolio.description %></p>
                    </div>
                    <div>
                      <h4>Minimum Capital:</h4>
                      <p><%= portfolio.minimumCapital %></p>
                    </div>
                    <div>
                      <h4>Return On Investment:</h4>
                      <p><%= portfolio.returnOnInvestment %></p>
                    </div>
                    <div>
                      <h4>Portfolio Duration:</h4>
                      <p><%= portfolio.portfolioDuration %></p>
                    </div>

                    <div>
                      <h4>Weekly Earnings:</h4>
                      <p><%= portfolio.weeklyEarnings %></p>
                    </div>
                    <div>
                      <h4>Target Size:</h4>
                      <p><%= portfolio.targetSize %></p>
                    </div>
                    <div>
                      <h4>Reimbursement:</h4>
                      <p><%= portfolio.reimbursement %></p>
                    </div>
                    <!-- Add more fields to display other portfolio details -->
                  </section>
                </div>
              </div>
            </div>
          </section>
        </div>
      </div>
      <footer class="main-footer">
        <!-- footer-->
        <%- include('../layouts/footer') %>
      </footer>
      <!-- Side panel -->
      <!-- quick_user_toggle -->
      <div class="modal modal-right fade" id="quick_user_toggle" tabindex="-1">
        <!-- user profile -->
        <%- include('../layouts/right') %>
      </div>
      <!-- /quick_user_toggle -->

      <!-- Control Sidebar -->
      <%- include('../layouts/sidebar') %>
    </div>

    <!-- <%- include('../layouts/script') %> -->
    <script src="js/pages/data-table.js"></script>

    <!-- JavaScript code for deleting a portfolio -->
    <script>
      function deletePortfolio(portfolioId) {
        if (confirm('Are you sure you want to delete this portfolio?')) {
          fetch(`/portfolio/${portfolioId}`, {
            method: 'DELETE',
          })
            .then(response => response.json())
            .then(data => {
              alert(data.message);
              location.reload(); // Refresh the page after successful deletion
            })
            .catch(error => {
              console.error('Failed to delete portfolio:', error);
              alert('Failed to delete portfolio. Please try again.');
            });
        }
      }
    </script>
  </body>
</html>
